{"version":3,"file":"coursels.min.js","sources":["../src/coursels.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n/**\n * Standard Report wrapper for Moodle. It calls the central JS file for Report plugin,\n * Also it includes JS libraries like Select2,Datatables and Highcharts\n * @module     block_reportdashboard/coursels\n * @class      report\n * @package\n * @copyright  2023 Moodle India Information Solutions Private Limited\n * @since      3.3\n */\ndefine(['jquery', 'block_learnerscript/ajax', 'block_learnerscript/report'],\n    function($, ajax, report, RadiosToSlider, flatpickr) {\n        var coursels;\n        coursels = {\n            init: function() {\n                this.BootSideMenu({refreshdashboard: 1, side: 'right', title: 'Course Statistics', width: '30%'});\n            },\n            CourseInsights: function() {\n                    var dlg = $(\"#internalbsm1\").dialog({\n                        resizable: true,\n                        autoOpen: false,\n                        width: '50%',\n                        title: '',\n                        modal: true,\n                        show: {\n                            effect: \"slide\",\n                            duration: 1000\n                        },\n                        position: {\n                            my: \"left\",\n                            at: \"top\",\n                            of: \"body\"\n                        },\n                        create: function() {\n                            $('.ui-dialog').css('z-index', 9999);\n                        },\n                        open: function() {\n\n                            RadiosToSlider.init($('#segmented-button'), {\n                                size: 'medium',\n                                animation: true,\n                            });\n                            flatpickr('#customrange', {\n                                mode: 'range',\n                                onChange: function(selectedDates) {\n                                    $('#lsfstartdate').val(selectedDates[0].getTime() / 1000);\n                                    $('#lsfenddate').val(selectedDates[1].getTime() / 1000);\n                                    require(['block_learnerscript/report'], function(reportjs) {\n                                        reportjs.DashboardTiles();\n                                        reportjs.DashboardWidgets();\n                                    });\n                                }\n                            });\n                            require(['block_learnerscript/report'], function(reportjs) {\n                                reportjs.DashboardTiles();\n                                reportjs.DashboardWidgets();\n                            });\n                            $(document).ajaxStop(function() {\n                                $(\".loader\").fadeOut(\"slow\");\n                            });\n                        },\n                        close: function() {\n                            $(this).dialog('destroy');\n                            $(\".report_dashboard_container\").html('');\n                            $(\".plotreport_dashboard_container\").html('');\n                        }\n                    });\n                    $(document).ajaxComplete(function() {\n                      $(\"#reportloading\").hide();\n                    });\n                    dlg.dialog(\"open\");\n                },\n            BootSideMenu: function(userOptions) {\n                var placeholder = $('#internalbsm');\n                var initialCode;\n                var newCode;\n                var menu;\n                var prevStatus;\n                var body = {};\n\n                var defaults = {\n                    side: \"left\",\n                    duration: 500,\n                    autoClose: true,\n                    pushBody: false,\n                    closeOnClick: true,\n                    remember: false,\n                    width: userOptions.width,\n                    onTogglerClick: function() {\n                        // Code to be executed when the toggler arrow was clicked\n                    },\n                    onBeforeOpen: function() {\n                        // Code to be executed before menu open\n                    },\n                    onBeforeClose: function() {\n                        // Code to be executed before menu close\n                    },\n                    onOpen: function() {\n                        // Code to be executed after menu open\n                        if (userOptions.refreshdashboard) {\n                            report.DashboardTiles();\n                            report.DashboardWidgets();\n                        }\n                    },\n                    onClose: function() {\n                        // Code to be executed after menu close\n                    },\n                    onStartup: function() {\n                        // Code to be executed when the plugin is called\n                    }\n                };\n\n                var options = $.extend({}, defaults, userOptions);\n\n\n                body.originalMarginLeft = $(\"body\").css(\"margin-left\");\n                body.originalMarginRight = $(\"body\").css(\"margin-right\");\n                body.width = $(\"body\").width();\n\n                initialCode = placeholder.html();\n\n                newCode = \" <div class=\\\"menu-wrapper\\\">\\n\" + initialCode + \" </div>\";\n                newCode += \"<div class=\\\"toggler\\\" data-whois=\\\"toggler\\\">\";\n                newCode += \" \" + options.title + \"\";\n                newCode += \"</div>\";\n\n                placeholder.empty();\n                placeholder.append(newCode);\n\n                menu = $(placeholder);\n\n                menu.addClass(\"container\");\n                menu.addClass(\"bootsidemenu\");\n                menu.css(\"width\", options.width);\n\n                if (options.side == \"left\") {\n                    menu.addClass(\"bootsidemenu-left\");\n                } else if (options.side == \"right\") {\n                    menu.addClass(\"bootsidemenu-right\");\n                }\n\n                menu.id = menu.attr(\"id\");\n                menu.cookieName = \"bsm2-\" + menu.id;\n                menu.toggler = $(menu.children()[1]);\n                menu.originalPushBody = options.pushBody;\n                menu.originalCloseOnClick = options.closeOnClick;\n\n\n                if (options.remember) {\n                    prevStatus = this.readCookie(menu.cookieName);\n                } else {\n                    prevStatus = null;\n                }\n\n\n                this.forSmallBody(options, menu);\n\n                switch (prevStatus) {\n                    case \"opened\":\n                        this.startOpened(options, menu);\n                        break;\n                    case \"closed\":\n                        this.startClosed(options, menu);\n                        break;\n                    default:\n                        this.startDefault(options, menu);\n                        break;\n                }\n\n                if (options.onStartup !== undefined) {\n                    options.onStartup(menu);\n                }\n\n                $(\"[data-toggle=\\\"collapse\\\"]\", menu).each(function() {\n                    var icona = $(\"<span class=\\\"glyphicon glyphicon-chevron-right\\\"></span>\");\n                    $(placeholder).prepend(icona);\n                });\n\n                menu.off(\"click\", \"[data-whois=toggler]\");\n                menu.on(\"click\", \"[data-whois=toggler]\", function() {\n                    coursels.toggle(options, menu, body);\n                    if (options.onTogglerClick !== undefined) {\n                        options.onTogglerClick(menu);\n                    }\n                });\n\n                menu.off(\"click\", \".list-group-item\");\n                menu.on(\"click\", \".list-group-item\", function() {\n                    menu.find(\".list-group-item\").each(function() {\n                        $(placeholder).removeClass(\"active\");\n                    });\n                    $(placeholder).addClass(\"active\");\n                    $(\".glyphicon\", placeholder).toggleClass(\"glyphicon-chevron-right\").toggleClass(\"glyphicon-chevron-down\");\n                });\n\n\n                menu.off(\"click\", \"a.list-group-item\");\n                menu.on(\"click\", \"a.list-group-item\", function() {\n                    if (options.closeOnClick) {\n                        if ($(placeholder).attr(\"data-toggle\") != \"collapse\") {\n                            this.closeMenu(true, options, menu);\n                        }\n                    }\n                });\n            },\n            ToggleArea: function() {\n                var container = $(\"#internalbsm\");\n                var listaClassi = container[0].classList;\n                var side = this.getSide(listaClassi);\n                var containerWidth = container.width();\n                var status = container.attr('data-status');\n                if (!status) {\n                    status = \"opened\";\n                }\n                if (status === 'closed') {\n                    report.DashboardTiles();\n                    report.DashboardWidgets();\n                }\n                this.doAnimation(container, containerWidth, side, status);\n            },\n            /* Cerca un div con classe submenu e id uguale a quello passato*/\n            searchSubMenu: function(id) {\n                var found = false;\n                $('.submenu').each(function() {\n                    var thisId = $(this).attr('id');\n                    if (id == thisId) {\n                        found = true;\n                    }\n                });\n                return found;\n            },\n            readCookie: function(nome) {\n                var name = nome + \"=\";\n                var ca = document.cookie.split(\";\");\n                for (var i = 0; i < ca.length; i++) {\n                    var c = ca[i];\n                    while (c.charAt(0) == \" \") {\n c = c.substring(1);\n}\n                    if (c.indexOf(name) == 0) {\n return c.substring(name.length, c.length);\n}\n                }\n                return null;\n            },\n            startDefault: function(options, menu) {\n                if (options.side == \"left\") {\n                    if (options.autoClose) {\n                        menu.status = \"closed\";\n                        menu.hide().animate({\n                            left: -(menu.width() + 2)\n                        }, 1, function() {\n                            menu.show();\n                        });\n                    } else if (!options.autoClose) {\n                        menu.status = \"opened\";\n                        if (options.pushBody) {\n                            $(\"body\").css(\"margin-left\", menu.width() + 20);\n                        }\n                    }\n                } else if (options.side == \"right\") {\n                    if (options.autoClose) {\n                        menu.status = \"closed\";\n                        menu.hide().animate({\n                            right: -(menu.width() + 2)\n                        }, 1, function() {\n                            menu.show();\n                        });\n                    } else {\n                        menu.status = \"opened\";\n                        if (options.pushBody) {\n                            $(\"body\").css(\"margin-right\", menu.width() + 20);\n                        }\n                    }\n                }\n            },\n\n            startClosed: function(options, menu) {\n                if (options.side == \"left\") {\n                    menu.status = \"closed\";\n                    menu.hide().animate({\n                        left: -(menu.width() + 2)\n                    }, 1, function() {\n                        menu.show();\n                    });\n                } else if (options.side == \"right\") {\n                    menu.status = \"closed\";\n                    menu.hide().animate({\n                        right: -(menu.width() + 2)\n                    }, 1, function() {\n                        menu.show();\n                    });\n                }\n            },\n\n            startOpened: function(options, menu) {\n                if (options.side == \"left\") {\n                    menu.status = \"opened\";\n                    if (options.pushBody) {\n                        $(\"body\").css(\"margin-left\", menu.width() + 20);\n                    }\n\n                } else if (options.side == \"right\") {\n                    menu.status = \"opened\";\n                    if (options.pushBody) {\n                        $(\"body\").css(\"margin-right\", menu.width() + 20);\n                    }\n                }\n            },\n            switchArrow: function(side, menu) {\n                var span = menu.toggler.find(\"span.glyphicon\");\n                if (side == \"left\") {\n                    span.removeClass(\"glyphicon-chevron-left\").addClass(\"glyphicon-chevron-right\");\n                } else if (side == \"right\") {\n                    span.removeClass(\"glyphicon-chevron-right\").addClass(\"glyphicon-chevron-left\");\n                }\n            },\n            forSmallBody: function(options, menu) {\n                var windowWidth = $(window).width();\n\n                if (windowWidth <= 480) {\n                    options.pushBody = false;\n                    options.closeOnClick = true;\n                } else {\n                    options.pushBody = menu.originalPushBody;\n                    options.closeOnClick = menu.originalCloseOnClick;\n                }\n            },\n            // Restituisce il lato del sidebar in base alla classe che trova settata\n            getSide: function(listaClassi) {\n                var side;\n                for (var i = 0; i < listaClassi.length; i++) {\n                    if (listaClassi[i] == 'sidebar-left') {\n                        side = \"left\";\n                        break;\n                    } else if (listaClassi[i] == 'sidebar-right') {\n                        side = \"right\";\n                        break;\n                    } else {\n                        side = null;\n                    }\n                }\n                return side;\n            },\n            // Esegue l'animazione\n            doAnimation: function(container, containerWidth, sidebarSide, sidebarStatus) {\n                var toggler = container.children()[1];\n                if (sidebarStatus == \"opened\") {\n                    if (sidebarSide == \"left\") {\n                        container.animate({\n                            left: -(containerWidth + 2)\n                        });\n                        this.toggleArrow(toggler, \"left\");\n                    } else if (sidebarSide == \"right\") {\n                        container.animate({\n                            right: -(containerWidth + 2)\n                        });\n                        this.toggleArrow(toggler, \"right\");\n                    }\n                    container.attr('data-status', 'closed');\n                } else {\n                    if (sidebarSide == \"left\") {\n                        container.animate({\n                            left: 0\n                        });\n                        this.toggleArrow(toggler, \"right\");\n                    } else if (sidebarSide == \"right\") {\n                        container.animate({\n                            right: 0\n                        });\n                        this.toggleArrow(toggler, \"left\");\n                    }\n                    container.attr('data-status', 'opened');\n                }\n            },\n            toggle: function(options, menu, body) {\n                if (menu.status == \"opened\") {\n                    this.closeMenu(true, options, menu, body);\n                } else {\n                    this.openMenu(true, options, menu, body);\n                }\n            },\n            closeMenu: function(execFunctions, options, menu, body) {\n                if (execFunctions) {\n                    if (options.onBeforeClose !== undefined) {\n                        options.onBeforeClose(menu);\n                    }\n                }\n                if (options.side == \"left\") {\n\n                    if (options.pushBody) {\n                        $(\"body\").animate({\n                            marginLeft: body.originalMarginLeft\n                        }, {\n                            duration: options.duration\n                        });\n                    }\n\n                    menu.animate({\n                        left: -(menu.width() + 2)\n                    }, {\n                        duration: options.duration,\n                        done: function() {\n                            menu.status = \"closed\";\n\n                            if (execFunctions) {\n                                if (options.onClose !== undefined) {\n                                    options.onClose(menu);\n                                }\n                            }\n                        }\n                    });\n                } else if (options.side == \"right\") {\n\n                    if (options.pushBody) {\n                        $(\"body\").animate({\n                            marginRight: body.originalMarginRight\n                        }, {\n                            duration: options.duration\n                        });\n                    }\n\n                    menu.animate({\n                        right: -(menu.width() + 2)\n                    }, {\n                        duration: options.duration,\n                        done: function() {\n                            menu.status = \"closed\";\n\n                            if (execFunctions) {\n                                if (options.onClose !== undefined) {\n                                    options.onClose(menu);\n                                }\n                            }\n                        }\n                    });\n                }\n\n                if (options.remember) {\n                    this.storeCookie(menu.cookieName, \"closed\");\n                }\n\n            },\n            storeCookie: function(nome, valore) {\n                var d = new Date();\n                d.setTime(d.getTime() + (24 * 60 * 60 * 1000));\n                var expires = \"expires=\" + d.toUTCString();\n                document.cookie = nome + \"=\" + valore + \"; \" + expires + \"; path=/\";\n            },\n            openMenu: function(execFunctions, options, menu) {\n\n                if (execFunctions) {\n                    if (options.onBeforeOpen !== undefined) {\n                        options.onBeforeOpen(menu);\n                    }\n                }\n\n                if (options.side == \"left\") {\n\n                    if (options.pushBody) {\n                        $(\"body\").animate({\n                            marginLeft: menu.width() + 20\n                        }, {\n                            duration: options.duration\n                        });\n                    }\n\n                    menu.animate({\n                        left: 0\n                    }, {\n                        duration: options.duration,\n                        done: function() {\n                            menu.status = \"opened\";\n\n                            if (execFunctions) {\n                                if (options.onOpen !== undefined) {\n                                    options.onOpen(menu);\n                                }\n                            }\n                        }\n                    });\n                } else if (options.side == \"right\") {\n\n                    if (options.pushBody) {\n                        $(\"body\").animate({\n                            marginRight: menu.width() + 20\n                        }, {\n                            duration: options.duration\n                        });\n                    }\n\n                    menu.animate({\n                        right: 0\n                    }, {\n                        duration: options.duration,\n                        done: function() {\n                            menu.status = \"opened\";\n\n                            if (execFunctions) {\n                                if (options.onOpen !== undefined) {\n                                    options.onOpen(menu);\n                                }\n                            }\n                        }\n                    });\n                }\n\n                if (options.remember) {\n                    this.storeCookie(menu.cookieName, \"opened\");\n                }\n            },\n            toggleArrow: function(toggler, side) {\n                if (side == \"left\") {\n                    $(toggler).children(\".glyphicon-chevron-right\").css('display', 'block');\n                    $(toggler).children(\".glyphicon-chevron-left\").css('display', 'none');\n                } else if (side == \"right\") {\n                    $(toggler).children(\".glyphicon-chevron-left\").css('display', 'block');\n                    $(toggler).children(\".glyphicon-chevron-right\").css('display', 'none');\n                }\n            }\n        };\n        return coursels;\n    });\n"],"names":["define","$","ajax","report","RadiosToSlider","flatpickr","coursels","init","this","BootSideMenu","refreshdashboard","side","title","width","CourseInsights","dlg","dialog","resizable","autoOpen","modal","show","effect","duration","position","my","at","of","create","css","open","size","animation","mode","onChange","selectedDates","val","getTime","require","reportjs","DashboardTiles","DashboardWidgets","document","ajaxStop","fadeOut","close","html","ajaxComplete","hide","userOptions","newCode","menu","prevStatus","placeholder","body","defaults","autoClose","pushBody","closeOnClick","remember","onTogglerClick","onBeforeOpen","onBeforeClose","onOpen","onClose","onStartup","options","extend","originalMarginLeft","originalMarginRight","empty","append","addClass","id","attr","cookieName","toggler","children","originalPushBody","originalCloseOnClick","readCookie","forSmallBody","startOpened","startClosed","startDefault","undefined","each","icona","prepend","off","on","toggle","find","removeClass","toggleClass","closeMenu","ToggleArea","container","listaClassi","classList","getSide","containerWidth","status","doAnimation","searchSubMenu","found","thisId","nome","name","ca","cookie","split","i","length","c","charAt","substring","indexOf","animate","left","right","switchArrow","span","window","sidebarSide","sidebarStatus","toggleArrow","openMenu","execFunctions","marginLeft","done","marginRight","storeCookie","valore","d","Date","setTime","expires","toUTCString"],"mappings":"AAuBAA,wCAAO,CAAC,SAAU,2BAA4B,+BAC1C,SAASC,EAAGC,KAAMC,OAAQC,eAAgBC,WACtC,IAAIC,SA6fJ,OA5fAA,SAAW,CACPC,KAAM,WACFC,KAAKC,aAAa,CAACC,iBAAkB,EAAGC,KAAM,QAASC,MAAO,oBAAqBC,MAAO,SAE9FC,eAAgB,WACR,IAAIC,IAAMd,EAAE,iBAAiBe,OAAO,CAChCC,WAAW,EACXC,UAAU,EACVL,MAAO,MACPD,MAAO,GACPO,OAAO,EACPC,KAAM,CACFC,OAAQ,QACRC,SAAU,KAEdC,SAAU,CACNC,GAAI,OACJC,GAAI,MACJC,GAAI,QAERC,OAAQ,WACJ1B,EAAE,cAAc2B,IAAI,UAAW,OAEnCC,KAAM,WAEFzB,eAAeG,KAAKN,EAAE,qBAAsB,CACxC6B,KAAM,SACNC,WAAW,IAEf1B,UAAU,eAAgB,CACtB2B,KAAM,QACNC,SAAU,SAASC,eACfjC,EAAE,iBAAiBkC,IAAID,cAAc,GAAGE,UAAY,KACpDnC,EAAE,eAAekC,IAAID,cAAc,GAAGE,UAAY,KAClDC,QAAQ,CAAC,+BAA+B,SAASC,UAC7CA,SAASC,iBACTD,SAASE,yBAIrBH,QAAQ,CAAC,+BAA+B,SAASC,UAC7CA,SAASC,iBACTD,SAASE,sBAEbvC,EAAEwC,UAAUC,UAAS,WACjBzC,EAAE,WAAW0C,QAAQ,YAG7BC,MAAO,WACH3C,EAAEO,MAAMQ,OAAO,WACff,EAAE,+BAA+B4C,KAAK,IACtC5C,EAAE,mCAAmC4C,KAAK,OAGlD5C,EAAEwC,UAAUK,cAAa,WACvB7C,EAAE,kBAAkB8C,UAEtBhC,IAAIC,OAAO,SAEnBP,aAAc,SAASuC,aACnB,IAEIC,QACAC,KACAC,WAJAC,YAAcnD,EAAE,gBAKhBoD,KAAO,GAEPC,SAAW,CACX3C,KAAM,OACNW,SAAU,IACViC,WAAW,EACXC,UAAU,EACVC,cAAc,EACdC,UAAU,EACV7C,MAAOmC,YAAYnC,MACnB8C,eAAgB,aAGhBC,aAAc,aAGdC,cAAe,aAGfC,OAAQ,WAEAd,YAAYtC,mBACZP,OAAOoC,iBACPpC,OAAOqC,qBAGfuB,QAAS,aAGTC,UAAW,cAKXC,QAAUhE,EAAEiE,OAAO,GAAIZ,SAAUN,aA6CrC,OA1CAK,KAAKc,mBAAqBlE,EAAE,QAAQ2B,IAAI,eACxCyB,KAAKe,oBAAsBnE,EAAE,QAAQ2B,IAAI,gBACzCyB,KAAKxC,MAAQZ,EAAE,QAAQY,QAIvBoC,QAAU,gCAFIG,YAAYP,OAEkC,UAC5DI,SAAW,6CACXA,SAAW,IAAMgB,QAAQrD,MACzBqC,SAAW,SAEXG,YAAYiB,QACZjB,YAAYkB,OAAOrB,UAEnBC,KAAOjD,EAAEmD,cAEJmB,SAAS,aACdrB,KAAKqB,SAAS,gBACdrB,KAAKtB,IAAI,QAASqC,QAAQpD,OAEN,QAAhBoD,QAAQtD,KACRuC,KAAKqB,SAAS,qBACS,SAAhBN,QAAQtD,MACfuC,KAAKqB,SAAS,sBAGlBrB,KAAKsB,GAAKtB,KAAKuB,KAAK,MACpBvB,KAAKwB,WAAa,QAAUxB,KAAKsB,GACjCtB,KAAKyB,QAAU1E,EAAEiD,KAAK0B,WAAW,IACjC1B,KAAK2B,iBAAmBZ,QAAQT,SAChCN,KAAK4B,qBAAuBb,QAAQR,aAIhCN,WADAc,QAAQP,SACKlD,KAAKuE,WAAW7B,KAAKwB,YAErB,KAIjBlE,KAAKwE,aAAaf,QAASf,MAEnBC,YACJ,IAAK,SACD3C,KAAKyE,YAAYhB,QAASf,MAC1B,MACJ,IAAK,SACD1C,KAAK0E,YAAYjB,QAASf,MAC1B,MACJ,QACI1C,KAAK2E,aAAalB,QAASf,WAITkC,IAAtBnB,QAAQD,WACRC,QAAQD,UAAUd,MAGtBjD,EAAE,2BAA8BiD,MAAMmC,MAAK,WACvC,IAAIC,MAAQrF,EAAE,2DACdA,EAAEmD,aAAamC,QAAQD,UAG3BpC,KAAKsC,IAAI,QAAS,wBAClBtC,KAAKuC,GAAG,QAAS,wBAAwB,WACrCnF,SAASoF,OAAOzB,QAASf,KAAMG,WACA+B,IAA3BnB,QAAQN,gBACRM,QAAQN,eAAeT,SAI/BA,KAAKsC,IAAI,QAAS,oBAClBtC,KAAKuC,GAAG,QAAS,oBAAoB,WACjCvC,KAAKyC,KAAK,oBAAoBN,MAAK,WAC/BpF,EAAEmD,aAAawC,YAAY,aAE/B3F,EAAEmD,aAAamB,SAAS,UACxBtE,EAAE,aAAcmD,aAAayC,YAAY,2BAA2BA,YAAY,6BAIpF3C,KAAKsC,IAAI,QAAS,qBAClBtC,KAAKuC,GAAG,QAAS,qBAAqB,WAC9BxB,QAAQR,cACkC,YAAtCxD,EAAEmD,aAAaqB,KAAK,gBACpBjE,KAAKsF,WAAU,EAAM7B,QAASf,UAK9C6C,WAAY,WACR,IAAIC,UAAY/F,EAAE,gBACdgG,YAAcD,UAAU,GAAGE,UAC3BvF,KAAOH,KAAK2F,QAAQF,aACpBG,eAAiBJ,UAAUnF,QAC3BwF,OAASL,UAAUvB,KAAK,eACvB4B,SACDA,OAAS,UAEE,WAAXA,SACAlG,OAAOoC,iBACPpC,OAAOqC,oBAEXhC,KAAK8F,YAAYN,UAAWI,eAAgBzF,KAAM0F,SAGtDE,cAAe,SAAS/B,IACpB,IAAIgC,OAAQ,EAOZ,OANAvG,EAAE,YAAYoF,MAAK,WACf,IAAIoB,OAASxG,EAAEO,MAAMiE,KAAK,MACtBD,IAAMiC,SACND,OAAQ,MAGTA,OAEXzB,WAAY,SAAS2B,MAGjB,IAFA,IAAIC,KAAOD,KAAO,IACdE,GAAKnE,SAASoE,OAAOC,MAAM,KACtBC,EAAI,EAAGA,EAAIH,GAAGI,OAAQD,IAAK,CAEhC,IADA,IAAIE,EAAIL,GAAGG,GACW,KAAfE,EAAEC,OAAO,IACnCD,EAAIA,EAAEE,UAAU,GAEG,GAAuB,GAAnBF,EAAEG,QAAQT,MACjC,OAAOM,EAAEE,UAAUR,KAAKK,OAAQC,EAAED,QAGnB,OAAO,MAEX7B,aAAc,SAASlB,QAASf,MACR,QAAhBe,QAAQtD,KACJsD,QAAQV,WACRL,KAAKmD,OAAS,SACdnD,KAAKH,OAAOsE,QAAQ,CAChBC,OAAQpE,KAAKrC,QAAU,IACxB,GAAG,WACFqC,KAAK9B,WAED6C,QAAQV,YAChBL,KAAKmD,OAAS,SACVpC,QAAQT,UACRvD,EAAE,QAAQ2B,IAAI,cAAesB,KAAKrC,QAAU,KAG7B,SAAhBoD,QAAQtD,OACXsD,QAAQV,WACRL,KAAKmD,OAAS,SACdnD,KAAKH,OAAOsE,QAAQ,CAChBE,QAASrE,KAAKrC,QAAU,IACzB,GAAG,WACFqC,KAAK9B,YAGT8B,KAAKmD,OAAS,SACVpC,QAAQT,UACRvD,EAAE,QAAQ2B,IAAI,eAAgBsB,KAAKrC,QAAU,OAM7DqE,YAAa,SAASjB,QAASf,MACP,QAAhBe,QAAQtD,MACRuC,KAAKmD,OAAS,SACdnD,KAAKH,OAAOsE,QAAQ,CAChBC,OAAQpE,KAAKrC,QAAU,IACxB,GAAG,WACFqC,KAAK9B,WAEc,SAAhB6C,QAAQtD,OACfuC,KAAKmD,OAAS,SACdnD,KAAKH,OAAOsE,QAAQ,CAChBE,QAASrE,KAAKrC,QAAU,IACzB,GAAG,WACFqC,KAAK9B,YAKjB6D,YAAa,SAAShB,QAASf,MACP,QAAhBe,QAAQtD,MACRuC,KAAKmD,OAAS,SACVpC,QAAQT,UACRvD,EAAE,QAAQ2B,IAAI,cAAesB,KAAKrC,QAAU,KAGzB,SAAhBoD,QAAQtD,OACfuC,KAAKmD,OAAS,SACVpC,QAAQT,UACRvD,EAAE,QAAQ2B,IAAI,eAAgBsB,KAAKrC,QAAU,MAIzD2G,YAAa,SAAS7G,KAAMuC,MACxB,IAAIuE,KAAOvE,KAAKyB,QAAQgB,KAAK,kBACjB,QAARhF,KACA8G,KAAK7B,YAAY,0BAA0BrB,SAAS,2BACrC,SAAR5D,MACP8G,KAAK7B,YAAY,2BAA2BrB,SAAS,2BAG7DS,aAAc,SAASf,QAASf,MACVjD,EAAEyH,QAAQ7G,SAET,KACfoD,QAAQT,UAAW,EACnBS,QAAQR,cAAe,IAEvBQ,QAAQT,SAAWN,KAAK2B,iBACxBZ,QAAQR,aAAeP,KAAK4B,uBAIpCqB,QAAS,SAASF,aAEd,IADA,IAAItF,KACKoG,EAAI,EAAGA,EAAId,YAAYe,OAAQD,IAAK,CACzC,GAAsB,gBAAlBd,YAAYc,GAAsB,CAClCpG,KAAO,OACP,MACG,GAAsB,iBAAlBsF,YAAYc,GAAuB,CAC1CpG,KAAO,QACP,MAEAA,KAAO,KAGf,OAAOA,MAGX2F,YAAa,SAASN,UAAWI,eAAgBuB,YAAaC,eAC1D,IAAIjD,QAAUqB,UAAUpB,WAAW,GACd,UAAjBgD,eACmB,QAAfD,aACA3B,UAAUqB,QAAQ,CACdC,OAAQlB,eAAiB,KAE7B5F,KAAKqH,YAAYlD,QAAS,SACJ,SAAfgD,cACP3B,UAAUqB,QAAQ,CACdE,QAASnB,eAAiB,KAE9B5F,KAAKqH,YAAYlD,QAAS,UAE9BqB,UAAUvB,KAAK,cAAe,YAEX,QAAfkD,aACA3B,UAAUqB,QAAQ,CACdC,KAAM,IAEV9G,KAAKqH,YAAYlD,QAAS,UACJ,SAAfgD,cACP3B,UAAUqB,QAAQ,CACdE,MAAO,IAEX/G,KAAKqH,YAAYlD,QAAS,SAE9BqB,UAAUvB,KAAK,cAAe,YAGtCiB,OAAQ,SAASzB,QAASf,KAAMG,MACT,UAAfH,KAAKmD,OACL7F,KAAKsF,WAAU,EAAM7B,QAASf,KAAMG,MAEpC7C,KAAKsH,UAAS,EAAM7D,QAASf,KAAMG,OAG3CyC,UAAW,SAASiC,cAAe9D,QAASf,KAAMG,MAC1C0E,oBAC8B3C,IAA1BnB,QAAQJ,eACRI,QAAQJ,cAAcX,MAGV,QAAhBe,QAAQtD,MAEJsD,QAAQT,UACRvD,EAAE,QAAQoH,QAAQ,CACdW,WAAY3E,KAAKc,oBAClB,CACC7C,SAAU2C,QAAQ3C,WAI1B4B,KAAKmE,QAAQ,CACTC,OAAQpE,KAAKrC,QAAU,IACxB,CACCS,SAAU2C,QAAQ3C,SAClB2G,KAAM,WACF/E,KAAKmD,OAAS,SAEV0B,oBACwB3C,IAApBnB,QAAQF,SACRE,QAAQF,QAAQb,UAKT,SAAhBe,QAAQtD,OAEXsD,QAAQT,UACRvD,EAAE,QAAQoH,QAAQ,CACda,YAAa7E,KAAKe,qBACnB,CACC9C,SAAU2C,QAAQ3C,WAI1B4B,KAAKmE,QAAQ,CACTE,QAASrE,KAAKrC,QAAU,IACzB,CACCS,SAAU2C,QAAQ3C,SAClB2G,KAAM,WACF/E,KAAKmD,OAAS,SAEV0B,oBACwB3C,IAApBnB,QAAQF,SACRE,QAAQF,QAAQb,UAOhCe,QAAQP,UACRlD,KAAK2H,YAAYjF,KAAKwB,WAAY,WAI1CyD,YAAa,SAASzB,KAAM0B,QACxB,IAAIC,EAAI,IAAIC,KACZD,EAAEE,QAAQF,EAAEjG,UAAa,OACzB,IAAIoG,QAAU,WAAaH,EAAEI,cAC7BhG,SAASoE,OAASH,KAAO,IAAM0B,OAAS,KAAOI,QAAU,YAE7DV,SAAU,SAASC,cAAe9D,QAASf,MAEnC6E,oBAC6B3C,IAAzBnB,QAAQL,cACRK,QAAQL,aAAaV,MAIT,QAAhBe,QAAQtD,MAEJsD,QAAQT,UACRvD,EAAE,QAAQoH,QAAQ,CACdW,WAAY9E,KAAKrC,QAAU,IAC5B,CACCS,SAAU2C,QAAQ3C,WAI1B4B,KAAKmE,QAAQ,CACTC,KAAM,GACP,CACChG,SAAU2C,QAAQ3C,SAClB2G,KAAM,WACF/E,KAAKmD,OAAS,SAEV0B,oBACuB3C,IAAnBnB,QAAQH,QACRG,QAAQH,OAAOZ,UAKR,SAAhBe,QAAQtD,OAEXsD,QAAQT,UACRvD,EAAE,QAAQoH,QAAQ,CACda,YAAahF,KAAKrC,QAAU,IAC7B,CACCS,SAAU2C,QAAQ3C,WAI1B4B,KAAKmE,QAAQ,CACTE,MAAO,GACR,CACCjG,SAAU2C,QAAQ3C,SAClB2G,KAAM,WACF/E,KAAKmD,OAAS,SAEV0B,oBACuB3C,IAAnBnB,QAAQH,QACRG,QAAQH,OAAOZ,UAO/Be,QAAQP,UACRlD,KAAK2H,YAAYjF,KAAKwB,WAAY,WAG1CmD,YAAa,SAASlD,QAAShE,MACf,QAARA,MACAV,EAAE0E,SAASC,SAAS,4BAA4BhD,IAAI,UAAW,SAC/D3B,EAAE0E,SAASC,SAAS,2BAA2BhD,IAAI,UAAW,SAC/C,SAARjB,OACPV,EAAE0E,SAASC,SAAS,2BAA2BhD,IAAI,UAAW,SAC9D3B,EAAE0E,SAASC,SAAS,4BAA4BhD,IAAI,UAAW,UAK/E"}