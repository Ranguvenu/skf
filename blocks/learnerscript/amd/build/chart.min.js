/**
 * Describe different types of charts.
 *
 * @module     block_learnerscript/chart
 * @copyright  2023 Moodle India Information Solutions Private Limited
 * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 */
define("block_learnerscript/chart",["jquery","core/ajax","block_learnerscript/charts/chart","block_learnerscript/smartfilter","block_learnerscript/report","core/str"],(function($,Ajax,Chart,smartfilter,report,Str){var chart={HighchartsAjax:function(args){if(args.cols=JSON.stringify(args.cols),args.instanceid=args.reportid,args.filters=args.filters||smartfilter.FilterData(args.instanceid),args.basicparams=JSON.stringify(smartfilter.BasicparamsData(args.instanceid)),args.filters.lsfstartdate=$("#lsfstartdate").val(),args.filters.lsfenddate=$("#lsfenddate").val(),void 0===args.filters.filter_courses){var filter_courses=$(".dashboardcourses").val();1!=filter_courses&&(args.filters.filter_courses=filter_courses)}args.filters=JSON.stringify(args.filters);var promise=Ajax.call([{methodname:"block_learnerscript_generate_plotgraph",args:args}]);$("#report_plottabs").show(),$("#plotreportcontainer"+args.instanceid).html('<img src="'+M.util.image_url("loading","block_learnerscript")+'" id="reportloadingimage" />'),promise[0].done((function(response){(response=JSON.parse(response)).plot&&(!0===response.plot.error?Str.get_string("nodataavailable","block_learnerscript").then((function(s){$("#plotreportcontainer"+args.instanceid).html("<div class='alert alert-warning'>"+s+"</div>")})):(response.plot.reportid=args.reportid,response.plot.reportinstance=args.reportid,response.plot.data&&response.plot.data.length>0?require(["block_learnerscript/report"],(function(report){report.generate_plotgraph(response.plot)})):Str.get_string("nodataavailable","block_learnerscript").then((function(s){$("#plotreportcontainer"+args.instanceid).html("<div class='alert alert-warning'>"+s+"</div>")}))),$(document).ajaxStop((function(){$("#reportloadingimage").remove()})))}))},combinationchart:function(chartdata){var canvas=document.createElement("canvas"),random=Math.random();canvas.id="mixedcanvas"+random,document.getElementById(chartdata.containerid).appendChild(canvas);var cursorlayer=document.getElementById("mixedcanvas"+random).getContext("2d");new Chart(cursorlayer,{type:"bar",data:{datasets:chartdata.data,labels:chartdata.categorydata}})},lbchart:function(chartdata){if("bar"==chartdata.type){var canvas=document.createElement("canvas"),random=Math.random();canvas.id="canvaschart"+random,document.getElementById(chartdata.containerid).appendChild(canvas);var cursorlayer=document.getElementById("canvaschart"+random).getContext("2d");new Chart(cursorlayer,{type:"bar",data:{datasets:chartdata.data,labels:chartdata.categorydata},options:{indexAxis:"y"}})}else{canvas=document.createElement("canvas"),random=Math.random();canvas.id="canvaschart"+random,document.getElementById(chartdata.containerid).appendChild(canvas);cursorlayer=document.getElementById("canvaschart"+random).getContext("2d");new Chart(cursorlayer,{type:"bar",data:{datasets:chartdata.data,labels:chartdata.categorydata}})}},radarchart:function(chartdata){var canvas=document.createElement("canvas"),random=Math.random();canvas.id="radarcanvas"+random,document.getElementById("testaccess").appendChild(canvas);var cursorlayer=document.getElementById("radarcanvas"+random).getContext("2d");new Chart(cursorlayer,{type:"radar",data:{datasets:chartdata.data,labels:chartdata.xAxis},options:{plugins:{legend:{position:"top"},filler:{propagate:!1},"samples-filler-analyser":{target:"chart-analyser"}},interaction:{intersect:!1}}})},piechart:function(chartdata){var canvas=document.createElement("canvas"),random=Math.random();canvas.id="myPieChart"+random,document.getElementById(chartdata.containerid).appendChild(canvas);var ctx=document.getElementById("myPieChart"+random).getContext("2d");new Chart(ctx,{type:"pie",data:{labels:chartdata.data,datasets:[{data:chartdata.datalabels,backgroundColor:["gold","yellowgreen","lightcoral","lightskyblue","violet"]}]},options:{responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:chartdata.title}}}})}};return chart}));

//# sourceMappingURL=chart.min.js.map