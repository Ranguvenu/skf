{"version":3,"file":"reportwidget.min.js","sources":["../src/reportwidget.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * Creates the dashbaord widgets for configured widgets on dashboard.\n *\n * @module     block_learnerscript/reportwidget\n * @copyright  2023 Moodle India Information Solutions Private Limited\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\ndefine(['jquery',\n        'core/ajax',\n        'block_learnerscript/report',\n        'block_learnerscript/smartfilter',\n        'core/str',\n        'core/templates'\n    ], function($, Ajax, report, smartfilter, Str, Templates) {\n    var reportwidget = {\n        /**\n         * Creates dashboard widgets for configured widgets of dashboard depends on type\n         * @param {object} args reportcontainer\n         */\n        DashboardWidgets: function(args) {\n            var self = this;\n            args = args || {\n                container: '.report_dashboard_container'\n            };\n            var filterdata = smartfilter.FilterData(args.reportid);\n            $('.loader').show();\n            $('#reportcontainer' + args.instanceid).each(function() {\n                var reportinstance;\n                var reportid = $(this).data('reportid');\n                var blockinstance = $(this).data('blockinstance');\n                if ($(this).val() != '') {\n                    blockinstance = $(\"#reportcontainer\" + reportinstance).data('blockinstance');\n                    args.reporttype = $(\"#reporttype_\" + blockinstance + \"  :selected\").val();\n                    var params = {\n                        reportid: reportid,\n                        reporttype: args.reporttype\n                    };\n                    $.extend(params, filterdata);\n                    self.CreateDashboardwidget(params);\n                    return false;\n                } else {\n                    args.reporttype = $(\"#reporttype_\" + blockinstance + \"  :selected\").val();\n\n                    if (typeof (args.reporttype) == 'undefined') {\n                        args.reporttype = $(this).data('reporttype');\n                    }\n                    self.CreateDashboardwidget({\n                        reportid: reportid,\n                        reporttype: args.reporttype,\n                        instanceid: blockinstance\n                    });\n                }\n            });\n        },\n        DashboardTiles: function() {\n            var self = this;\n            var lsfstartdate = $('#lsfstartdate').val();\n            var lsfenddate = $('#lsfenddate').val();\n            var courseid = $('#ls_courseid').val();\n            $(\".tiles_information\").each(function() {\n                self.CreateDashboardTile({\n                    blockinstanceid: $(this).data('instanceid'),\n                    reportid: $(this).data('reportid'),\n                    reporttype: $(this).data('reporttype'),\n                    lsfstartdate: lsfstartdate,\n                    lsfenddate: lsfenddate,\n                    courseid: courseid\n                });\n            });\n        },\n        CreateDashboardTile: function(args) {\n            $(\"#inst\" + args.blockinstanceid + \" .tiles_information table tr\").html(\"\");\n            var reportinstance = args.blockinstanceid;\n            var filters = {};\n            filters.lsfstartdate = $('#lsfstartdate' + args.blockinstanceid).val();\n            filters.lsfenddate = $('#lsfenddate' + args.blockinstanceid).val();\n\n            $.urlParam = function(name) {\n                var results = new RegExp('[\\?&]' + name + '=([^&#]*)').exec(window.location.href);\n                if (results === null || results == ' ') {\n                    return null;\n                } else {\n                    return results[1] || 0;\n                }\n            };\n            var dashboardurl = $.urlParam('dashboardurl');\n            if (typeof filters.filter_courses == 'undefined') {\n                var filter_courses = $('.report_courses').val();\n                if (dashboardurl == 'Course') {\n                    args.courseid = filter_courses;\n                }\n                if (filter_courses != 1) {\n                    filters.filter_courses = filter_courses;\n                }\n            }\n\n            var promise = Ajax.call([{\n                methodname: 'block_learnerscript_generate_plotgraph',\n                args: {\n                    instanceid: args.blockinstanceid,\n                    reportid: args.reportid,\n                    courseid: args.courseid,\n                    filters: JSON.stringify(filters),\n                    reporttype: args.reporttype\n                },\n                loading: '#reportloading_' + args.blockinstanceid\n            }]);\n            promise[0].done(function(data) {\n                data = JSON.parse(data);\n                var tabledata = [];\n                if (args.reporttype != 'table') {\n                        $.extend(data.plot, args);\n                        data.plot.container = \"#plotreportcontainer\" + reportinstance;\n                        if (data.plot.error === true) {\n                            $('#plotreportcontainer' + reportinstance).html('<p class=\"alert alert-warning\">' +\n                            data.plot.messages + '</p>');\n                        } else {\n                            if (data.plot.data.length == 0) {\n                                $(data.plot.container).html(\"<div class='alert alert-info'>\" +\n                                data.plot.messages + \"</div>\");\n                            } else {\n                                data.plot.reportinstance = reportinstance;\n                                require(['block_learnerscript/report'], function(report) {\n                                    report.generate_plotgraph(data.plot);\n                                });\n                            }\n                        }\n                } else {\n                    if (typeof data.plot != 'undefined') {\n                        if (data.plot.data.length > 0) {\n                            $(data.plot.data).each(function(key, value) {\n                                tabledata = [];\n                                tabledata = value.data;\n                            });\n                            $(data.plot.categorydata).each(function(k, v) {\n                                if (data.plot.categorydata.length == 1) {\n                                    if (!isNaN(tabledata[0][k])) {\n                                        $(\"#inst\" + args.blockinstanceid + \" .tiles_information table tr\").append('<td><h1 ' +\n                                        args.styletilescolour + '> ' + tabledata[0][k] + ' </h1></td>');\n                                    } else {\n                                        $(\"#inst\" + args.blockinstanceid + \" .tiles_information table tr\").append('<td><h6 ' +\n                                        args.styletilescolour + '> ' + tabledata[0][k] + ' </h6></td>');\n                                    }\n                                } else {\n                                    $(\"#inst\" + args.blockinstanceid + \" .tiles_information table tr\").append('<td>' +\n                                    v + ' : <b> ' + tabledata[k] + ' </b></td>');\n                                }\n                            });\n                        } else {\n                            Str.get_string('nodataavailable','block_learnerscript').then(function(s){\n                                $(\"#inst\" + args.blockinstanceid + \" .tiles_information table tr\").html(\"<div \" +\n                                \"class='alert alert-info'> \" + s + \"</div>\");\n                            });\n                            $(\"#inst\" + args.blockinstanceid + \" .dashboard_tiles\").css('color', '#4B4B4B');\n                        }\n                        $(\"#reportloading_\" + args.blockinstanceid).css('display', 'none');\n                    }\n                }\n            });\n        },\n        /**\n         * Creates single dashboard widget for requested report and type\n         * @param {object} args reportid and reporttype\n         * @return Creates report widget depends on type table,pie chart etc...\n         */\n        CreateDashboardwidget: function(args) {\n            if (args.reportdashboard == false) {\n                args.instanceid = '';\n            }\n            var reportinstance = args.instanceid || args.reportid;\n            args.filters = args.filters || smartfilter.FilterData(reportinstance);\n            args.columnDefs = '';\n            args.filters['lsfstartdate'] = $('#lsfstartdate' + args.instanceid).val() || $('#lsfstartdate').val();\n            args.filters['lsfenddate'] = $('#lsfenddate' + args.instanceid).val() || $('#lsfstartdate').val();\n            if (typeof args.filters['filter_courses'] == 'undefined') {\n                var filter_courses = $('.report_courses').val();\n                if (filter_courses != 1) {\n                    args.filters['filter_courses'] = filter_courses;\n                }\n            }\n            if (args.reporttype == 'table') {\n            } else {\n                $('.plotgraphcontainer').removeClass('hide').addClass('show');\n            }\n            if (args.selectreport) {\n                $(\"#reportcontainer\" + reportinstance).attr('data-reporttype', args.singleplot);\n                $(\"#plotreportcontainer\" + reportinstance).attr('data-reporttype', args.singleplot);\n                delete args.selectreport;\n            }\n\n            args.filters = JSON.stringify(args.filters);\n            args.action = 'generate_plotgraph';\n            $('.download_menu' + reportinstance + ' li a').each(function() {\n                var link = $(this).attr('href');\n                if (typeof args.basicparams != 'undefined') {\n                    var basicparamsdata = JSON.parse(args.basicparams);\n                    $.each(basicparamsdata, function(key, value) {\n                        if (key.indexOf('filter_') == 0) {\n                            link += '&' + key + '=' + value;\n                        }\n                    });\n                }\n                if (typeof (args.filters) != 'undefined') {\n                    var filters = JSON.parse(args.filters);\n                    $.each(filters, function(key, value) {\n                        if (key.indexOf('filter_') == 0) {\n                            link += '&' + key + '=' + value;\n                        }\n                    });\n                }\n                $(this).attr('href', link);\n            });\n            args.basicparams = args.basicparams || JSON.stringify(smartfilter.BasicparamsData(reportinstance));\n            if (typeof args.reportdashboard != 'undefined' && typeof args.reporttype != 'undefined') {\n                $(\"#reportcontainer\" + reportinstance).html(\"\");\n                $(\"#plotreportcontainer\" + reportinstance).html(\"\");\n            } else {\n                if (typeof args.reportdashboard != 'undefined' && args.reporttype == 'table') {\n                    $(\"#reportcontainer\" + reportinstance).html(\"\");\n                } else {\n                    $(\"#plotreportcontainer\" + reportinstance).html(\"\");\n                }\n            }\n            var promise = Ajax.call([{\n                methodname: 'block_learnerscript_generate_plotgraph',\n                args: args,\n                loading: '#reportloading_' + args.reportid\n            }]);\n            if ($(\"#reportloadingimage\").length <= 0) {\n                if (args.reporttype == 'table') {\n                    $(\"#reportcontainer\" + args.reportid).prepend('<img src=\"' +\n                    M.util.image_url('loading', 'block_learnerscript') + '\" id=\"reportloadingimage\" />');\n                } else {\n                    $(\"#plotreportcontainer\" + args.reportid).prepend('<img src=\"' +\n                    M.util.image_url('loading', 'block_learnerscript') + '\" id=\"reportloadingimage\" />');\n                }\n            }\n            promise[0].done(function(chartdata) {\n                chartdata = $.parseJSON(chartdata);\n                var reporttype = chartdata.reporttype || args.reporttype;\n                if (reporttype == 'table') {\n                    if (typeof (chartdata.data) == 'undefined' && chartdata.emptydata) {\n                        if (!$('#reporttable_' + args.reportid).length) {\n                            Str.get_string('nodataavailable', 'block_learnerscript').then(function(s) {\n                                $(\"#reportcontainer\" + reportinstance).html('<p class=\"alert alert-info\">' +\n                                s + '</p>');\n                            });\n                        }\n                        $(document).ajaxStop(function() {\n                            $(\"#reportloadingimage\").remove();\n                        });\n                    } else {\n                        Templates.render('block_learnerscript/reporttable', chartdata.tdata).done(function(html) {\n                            if (!$('#reporttable_' + args.reportid).length) {\n                                $(\"#reportcontainer\" + reportinstance).html(html);\n                            }\n                            $(document).ajaxStop(function() {\n                                $(\"#reportloadingimage\").remove();\n                            });\n                            args.columnDefs = chartdata.columnDefs;\n                            args.data = chartdata.data;\n                            args.reportname = chartdata.reportname;\n                            require(['block_learnerscript/report'], function(report) {\n                                report.ReportDatatable(args);\n                            });\n                        });\n                    }\n                } else {\n                    $.extend(chartdata.plot, args);\n                    chartdata.plot.container = \"#plotreportcontainer\" + reportinstance;\n                    $(document).ajaxStop(function() {\n                        $(\"#reportloadingimage\").remove();\n                    });\n                    if (chartdata.plot.error === true) {\n                        $('#plotreportcontainer' + reportinstance).html('<p class=\"alert alert-warning\">' +\n                        chartdata.plot.messages + '</p>');\n                    } else {\n                        if (chartdata.plot.data && chartdata.plot.data.length > 0) {\n                            chartdata.plot.reportinstance = reportinstance;\n                            $(\".drilldown\" + reportinstance + \" .ui-dialog-title\").html(chartdata.reportname);\n                            args.reportname = chartdata.reportname;\n                            require(['block_learnerscript/report'], function(report) {\n                                report.generate_plotgraph(chartdata.plot);\n                            });\n                        } else {\n                            Str.get_string('nodataavailable','block_learnerscript').then(function(s){\n                                $(chartdata.plot.container).html('<p class=\"alert alert-warning\">' +\n                                s + '</p>');\n                            });\n                        }\n                    }\n                }\n            }).fail(function() {\n                // Do something with the exception\n            });\n        }\n    };\n    return reportwidget;\n});\n"],"names":["define","$","Ajax","report","smartfilter","Str","Templates","reportwidget","DashboardWidgets","args","self","this","container","filterdata","FilterData","reportid","show","instanceid","each","data","blockinstance","val","reportinstance","reporttype","params","extend","CreateDashboardwidget","DashboardTiles","lsfstartdate","lsfenddate","courseid","CreateDashboardTile","blockinstanceid","html","filters","urlParam","name","results","RegExp","exec","window","location","href","dashboardurl","filter_courses","call","methodname","JSON","stringify","loading","done","parse","tabledata","plot","error","messages","length","require","generate_plotgraph","key","value","categorydata","k","v","isNaN","append","styletilescolour","get_string","then","s","css","reportdashboard","columnDefs","removeClass","addClass","selectreport","attr","singleplot","action","link","basicparams","basicparamsdata","indexOf","BasicparamsData","promise","prepend","M","util","image_url","chartdata","parseJSON","emptydata","document","ajaxStop","remove","render","tdata","reportname","ReportDatatable","fail"],"mappings":"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"}